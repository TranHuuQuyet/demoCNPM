
<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="style2.css">
  </head>
  <body>
    <header>
   <div class="logo">
  <img src="https://cdn-icons-png.flaticon.com/512/263/263142.png" alt="cart icon">
  <b id="name"> <p>Group12</p></b>
</div>

    <nav>
      <a href="index.html"><u>Home</u></a>
      <a href="sanpham.html"><u>S·∫£n ph·∫©m</u></a>
      <a href="giohang.html"><u>Gi·ªè h√†ng</u></a>
    </nav>
    
  </header>
        <div class="toolbar">
          <div class="search" role="search">
            <span class="icon">üîé</span>
            <input placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m‚Ä¶" aria-label="T√¨m ki·∫øm" />
          </div>
          <button class="pill" aria-label="B·ªô l·ªçc">B·ªô l·ªçc</button>
        </div>
      </header>
  <h2 id="giohang">Gi·ªè h√†ng c·ªßa b·∫°n</h2>
  <div id="cart"></div>
  <h3 id="total"></h3>

<!-- Gi·ªè h√†ng -->

  <button id="checkout-btn">Thanh To√°n</button>
</div>
 <script>
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    const cartDiv = document.getElementById("cart");
    const totalDiv = document.getElementById("total");

    function renderCart() {
      if (cart.length === 0) {
        cartDiv.innerHTML = "<p>Gi·ªè h√†ng tr·ªëng...</p>";
        totalDiv.textContent = "";
        return;
      }

      let html = "<ul>";
      let total = 0;
      cart.forEach((item, index) => {
        let priceNum = parseInt(item.price.replace(/[^\d]/g, "")); // L·∫•y s·ªë t·ª´ gi√°
        total += priceNum;
        html += `<li>${item.name} - ${item.price} 
                   <button onclick="removeFromCart(${index})">X√≥a</button></li>`;
      });
      html += "</ul>";

      cartDiv.innerHTML = html;
      totalDiv.textContent = "T·ªïng c·ªông: " + total.toLocaleString("vi-VN") + " ‚Ç´";
    }

    function removeFromCart(index) {
      cart.splice(index, 1);
      localStorage.setItem("cart", JSON.stringify(cart));
      renderCart();
    }

    renderCart();



// B·∫Øt s·ª± ki·ªán n√∫t Thanh To√°n
document.getElementById("checkout-btn").addEventListener("click", function() {
  if (cart.length === 0) {
    alert("Gi·ªè h√†ng ƒëang tr·ªëng! H√£y th√™m s·∫£n ph·∫©m tr∆∞·ªõc.");
  } else {
    alert("Thanh to√°n th√†nh c√¥ng! C·∫£m ∆°n b·∫°n ƒë√£ mua h√†ng ‚ù§Ô∏è");
    // N·∫øu c√≥ trang thanh to√°n th·∫≠t th√¨ redirect:
    // window.location.href = "checkout.html";

    cart = []; // reset gi·ªè h√†ng
    localStorage.setItem("cart", JSON.stringify(cart)); // xo√° lu√¥n trong localStorage
    renderCart(); // render l·∫°i gi·ªè h√†ng cho s·∫°ch
  }
});
  </script>
  </body>
</html>